# 
# 
# To apply this patch:
# STEP 1: Chdir to the source directory.
# STEP 2: Run the 'applypatch' program with this patch file as input.
#
# If you do not have 'applypatch', it is part of the 'makepatch' package
# that you can fetch from the Comprehensive Perl Archive Network:
# http://www.perl.com/CPAN/authors/Johan_Vromans/makepatch-x.y.tar.gz
# In the above URL, 'x' should be 2 or higher.
#
# To apply this patch without the use of 'applypatch':
# STEP 1: Chdir to the source directory.
# STEP 2: Run the 'patch' program with this file as input.
#
#### End of Preamble ####

#### Patch data follows ####
diff -up 'CPAN-1.76_53/lib/CPAN.pm' 'new.CPAN-1.76_53/lib/CPAN.pm'
Index: ./lib/CPAN.pm
--- ./lib/CPAN.pm	Thu Sep 22 09:04:29 2005
+++ ./lib/CPAN.pm	Mon Sep 26 16:34:00 2005
@@ -5637,11 +5637,17 @@ sub rematein {
     $pack->called_for($self->id);
     $pack->force($meth) if exists $self->{'force_update'};
     $pack->notest($meth) if exists $self->{'notest'};
-    $pack->$meth();
+    eval {
+	$pack->$meth();
+    };
+    my $err = $@;
     $pack->unforce if $pack->can("unforce") && exists $self->{'force_update'};
     $pack->unnotest if $pack->can("unnotest") && exists $self->{'notest'};
     delete $self->{'force_update'};
     delete $self->{'notest'};
+    if ($err) {
+	die $err;
+    }
 }
 
 #-> sub CPAN::Module::readme ;
#### End of Patch data ####

#### ApplyPatch data follows ####
# Data version        : 1.0
# Date generated      : Mon Sep 26 16:35:27 2005
# Generated by        : makepatch 2.00_11*
# Recurse directories : Yes
# Excluded files      : (\A|/).*\~\Z
#                       (\A|/).*\.a\Z
#                       (\A|/).*\.bak\Z
#                       (\A|/).*\.BAK\Z
#                       (\A|/).*\.elc\Z
#                       (\A|/).*\.exe\Z
#                       (\A|/).*\.gz\Z
#                       (\A|/).*\.ln\Z
#                       (\A|/).*\.o\Z
#                       (\A|/).*\.obj\Z
#                       (\A|/).*\.olb\Z
#                       (\A|/).*\.old\Z
#                       (\A|/).*\.orig\Z
#                       (\A|/).*\.rej\Z
#                       (\A|/).*\.so\Z
#                       (\A|/).*\.Z\Z
#                       (\A|/)\.del\-.*\Z
#                       (\A|/)\.make\.state\Z
#                       (\A|/)\.nse_depinfo\Z
#                       (\A|/)core\Z
#                       (\A|/)tags\Z
#                       (\A|/)TAGS\Z
# p 'lib/CPAN.pm' 226883 1127745240 0100644
#### End of ApplyPatch data ####

#### End of Patch kit [created: Mon Sep 26 16:35:27 2005] ####
#### Patch checksum: 57 1993 57847 ####
#### Checksum: 75 2617 43860 ####
